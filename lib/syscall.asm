%include "sconst.inc"

GET_TICKS_ID	equ	0
WRITE_ID		equ	1
PRINTX_ID		equ	2
SENDREC_ID		equ	3
INT_VECTOR_SYS_CALL	equ	0x90

global	get_ticks0
global	write0
global	printx
global	sendrec

bits 32
[section .text]

;-------------------------------------------------------------------------------------
; system call get_ticks
;-------------------------------------------------------------------------------------
; void get_ticks0()
;-------------------------------------------------------------------------------------
get_ticks0:
	mov		eax, GET_TICKS_ID
	int		INT_VECTOR_SYS_CALL
	ret
;-------------------------------------------------------------------------------------

;-------------------------------------------------------------------------------------
; system call write0
;-------------------------------------------------------------------------------------
; void write0(char* buf, int len);
;-------------------------------------------------------------------------------------
write0:
	mov		eax, WRITE_ID
	mov		ecx, [esp + 4]
	mov		edx, [esp + 8]
	int		INT_VECTOR_SYS_CALL
	ret
;-------------------------------------------------------------------------------------

;-------------------------------------------------------------------------------------
; system call printx
;-------------------------------------------------------------------------------------
; void printx(char* s);
;-------------------------------------------------------------------------------------
printx:
	mov		eax, PRINTX_ID
	mov		edx, [esp + 4]
	int		INT_VECTOR_SYS_CALL
	ret
;-------------------------------------------------------------------------------------

;-------------------------------------------------------------------------------------
; system call sendrec
;-------------------------------------------------------------------------------------
; int sendrec(int function, int src_des, MESSAGE* msg);
;-------------------------------------------------------------------------------------
sendrec:
	mov		eax, SENDREC_ID
	mov		ebx, [esp + 4]
	mov		ecx, [esp + 8]
	mov		edx, [esp + 12]
	int		INT_VECTOR_SYS_CALL
	ret
;-------------------------------------------------------------------------------------
